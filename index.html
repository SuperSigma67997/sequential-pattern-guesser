<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pattern Recognition Trainer</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f1220;
  color: #fff;
  margin: 0;
  padding: 20px;
}

nav button {
  margin-right: 10px;
  padding: 10px;
  cursor: pointer;
}

.section {
  display: none;
}

.active {
  display: block;
}

h2 {
  margin-top: 10px;
}

.instructions {
  background: #1c1f3a;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 15px;
}

.choices button {
  display: block;
  margin: 8px 0;
  padding: 10px;
  width: 200px;
  cursor: pointer;
}

.correct {
  background: green;
}

.wrong {
  background: crimson;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, 70px);
  gap: 8px;
}

.box {
  width: 70px;
  height: 70px;
  background: #444;
  border: 2px solid #999;
  cursor: pointer;
}

.box.active {
  background: #00c8ff;
}

.raven-grid {
  display: grid;
  grid-template-columns: repeat(3, 80px);
  gap: 10px;
}

.raven-choice {
  width: 80px;
  height: 80px;
  background: #222;
  border: 3px solid #aaa;
  cursor: pointer;
}

.raven-choice.correct {
  border-color: lime;
}

.raven-choice.wrong {
  border-color: red;
}
</style>
</head>

<body>

<nav>
  <button onclick="showSection('numbers')">Numbers</button>
  <button onclick="showSection('visual')">Visual</button>
  <button onclick="showSection('raven')">Raven</button>
</nav>

<!-- NUMBERS -->
<div id="numbers" class="section active">
<h2>Number Sequences</h2>

<div class="instructions">
You are shown a short number sequence with a hidden pattern.
Your task is to identify the rule and select the correct next number.

This trains abstract reasoning, pattern recognition, working memory,
and the same logic used in IQ-style sequence problems.
</div>

<select id="difficulty">
  <option value="easy">Easy</option>
  <option value="medium">Medium</option>
  <option value="hard">Hard</option>
</select>

<p id="sequence"></p>
<div class="choices" id="choices"></div>
</div>

<!-- VISUAL -->
<div id="visual" class="section">
<h2>Visual Patterns</h2>

<div class="instructions">
A visual pattern will appear. One square follows a hidden rule.
Click the square that best completes or continues the pattern.

This improves spatial reasoning, visual logic, and non-verbal intelligence.
</div>

<div class="grid" id="visualGrid"></div>
</div>

<!-- RAVEN -->
<div id="raven" class="section">
<h2>Raven Style Matrix</h2>

<div class="instructions">
Observe the pattern progression across the grid.
One option completes the logical sequence.

This directly mimics Ravenâ€™s Progressive Matrices
and targets fluid intelligence and abstract rule detection.
</div>

<div class="raven-grid" id="ravenChoices"></div>
</div>

<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* NUMBER SEQUENCES */
function generateSequence() {
  const diff = document.getElementById('difficulty').value;
  let seq = [];
  let answer;

  if (diff === 'easy') {
    let start = Math.floor(Math.random()*5)+1;
    seq = [start, start+2, start+4];
    answer = start+6;
  }
  if (diff === 'medium') {
    let start = Math.floor(Math.random()*3)+2;
    seq = [start, start*2, start*4];
    answer = start*8;
  }
  if (diff === 'hard') {
    seq = [2, 6, 12];
    answer = 20;
  }

  document.getElementById('sequence').textContent = seq.join(', ') + ', ?';

  let options = [answer,
    answer+2,
    answer-2,
    answer+4].sort(() => Math.random()-0.5);

  const choices = document.getElementById('choices');
  choices.innerHTML = '';

  options.forEach(opt => {
    let btn = document.createElement('button');
    btn.textContent = opt;
    btn.onclick = () => {
      btn.className = opt === answer ? 'correct' : 'wrong';
      setTimeout(generateSequence, 1200);
    };
    choices.appendChild(btn);
  });
}
generateSequence();

/* VISUAL */
const visualGrid = document.getElementById('visualGrid');
let correctIndex = Math.floor(Math.random()*9);

for (let i=0;i<9;i++) {
  let box = document.createElement('div');
  box.className = 'box';
  if (i === correctIndex) box.classList.add('active');

  box.onclick = () => {
    box.style.borderColor = i === correctIndex ? 'lime' : 'red';
    setTimeout(() => location.reload(), 1200);
  };
  visualGrid.appendChild(box);
}

/* RAVEN */
const ravenChoices = document.getElementById('ravenChoices');
let ravenCorrect = Math.floor(Math.random()*6);

for (let i=0;i<6;i++) {
  let r = document.createElement('div');
  r.className = 'raven-choice';
  if (i === ravenCorrect) r.dataset.correct = 'true';

  r.onclick = () => {
    if (r.dataset.correct) r.classList.add('correct');
    else r.classList.add('wrong');
    setTimeout(() => location.reload(), 1200);
  };
  ravenChoices.appendChild(r);
}
</script>

</body>
</html>
